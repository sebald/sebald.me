/**
 * Uses pseudo-elements (::before, ::after) to create multi-layered
 * backgrounds with different hover statesâ€”complexity not easily
 * achievable with pure Tailwind utility classes.
 */
@utility btn {
  @apply relative inline-flex items-center justify-center gap-2;
  @apply h-11 rounded-full px-5;
  @apply text-sm font-semibold;
  @apply cursor-pointer select-none;
  @apply transition-transform duration-200;

  /* States */
  @apply enabled:hover:after:opacity-100;
  @apply focus-visible:focus-ring;
  @apply active:scale-[0.98];
  @apply disabled:cursor-not-allowed disabled:opacity-50;

  /* Slot: Text */
  color: var(--btn-text);

  /* Ensure label and icon sit above backgrounds. */
  & span,
  & svg {
    @apply z-1 relative;
  }

  &::before,
  &::after {
    @apply absolute -inset-px z-[-1] rounded-[inherit] content-[''];
  }

  /* Slot: Background */
  &::before {
    background:
      var(--btn-bg) padding-box,
      var(--btn-border) border-box;
    box-shadow: var(--btn-shadow);
  }

  /* Slot: Hover */
  &::after {
    @apply opacity-0 transition-opacity duration-200;

    background:
      var(--btn-bg-hover) padding-box,
      var(--btn-border-hover) border-box;
  }
}

@apply relative inline-flex items-center justify-center gap-2;
@apply h-11 rounded-full px-5;
@apply text-(--btn-text) text-sm font-semibold;
@apply cursor-pointer select-none;
@apply transition-transform duration-200;

/* States */
@apply focus-visible:focus-ring;
@apply active:scale-[0.98];
@apply disabled:cursor-not-allowed disabled:opacity-50;

/* Slot: Background & Hover */
@apply gradient-border;
